# ── mcp-firebase ──────────────────────────────────────────────
# Standalone Firebase RTDB MCP server.
#
# Usage:
#   FIREBASE_SERVICE_ACCOUNT=./sa.json FIREBASE_DATABASE_URL=https://x.firebaseio.com bunx mcp-firebase --stdio
#   bun run src/cli.ts --stdio                     # uses .env from cwd
#   bun run src/cli.ts --stdio --env-path /path/to/.env   # explicit .env path
#
# Claude Code .mcp.json:
#   {
#     "mcpServers": {
#       "firebase": {
#         "command": "bun",
#         "args": ["run", "/path/to/mcp-firebase/src/cli.ts", "--stdio"],
#         "cwd": "/your/project",
#         "env": {
#           "FIREBASE_SERVICE_ACCOUNT": "./service-account.json",
#           "FIREBASE_DATABASE_URL": "https://your-project.firebaseio.com"
#         }
#       }
#     }
#   }
# ──────────────────────────────────────────────────────────────

# Path to service account JSON file, or the JSON string itself
FIREBASE_SERVICE_ACCOUNT=./service-account.json

# Firebase RTDB URL
FIREBASE_DATABASE_URL=https://your-project.firebaseio.com

# Optional: base path prefix for all RTDB operations (default: /)
RTDB_BASE_PATH=/

# Optional: base working dir for all mcp-firebase data (default: .mcp-firebase/)
# RTDB_LOCAL_DIR overrides just the dumps subdir if you need granular control
RTDB_LOCAL_DIR=.mcp-firebase/dumps/

# ── All audit/backup config lives in mcp-firebase.json ──
#
# {
#   "basePath": "/",
#   "workDir": ".mcp-firebase",      ← root for all subdirs (dumps/cache/backups/audit)
#   "localDir": ".mcp-firebase/dumps/",   ← override just the YAML dumps dir
#   "cacheDir": ".mcp-firebase/cache/",   ← override just the query cache dir
#   "audit": {
#     "enabled": true,
#     "logFile": ".mcp-firebase/audit/audit.jsonl"
#   },
#   "backup": {
#     "enabled": true,
#     "dir": ".mcp-firebase/backups/",
#     "operations": ["put", "patch", "delete"]
#   }
# }
